{% extends "base.html" %}
{% load i18n %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/themes/base/jquery.ui.all.css" />

<style type="text/css">
    /* remove padding and scrolling from elements that contain an Accordion OR a content-div */
    .ui-layout-center ,
    .ui-layout-west ,
    .ui-layout-east ,
    .ui-layout-east .ui-layout-content {
        padding: 0;
        overflow: hidden;
    }
    .ui-layout-center P.ui-layout-content {
        line-height:	1.4em;
        margin:			0; /* remove top/bottom margins from <P> used as content-div */
        
    }
    h3, h4 { /* Headers & Footer in Center & East panes */
        font-size:		1.1em;
        background:		#EEF;
        border:			1px solid #BBB;
        border-width:	0 0 1px;
        padding:		7px 10px;
        margin:			0;
    }
    .ui-layout-east h4 { /* Footer in East-pane */
        font-size:		0.9em;
        font-weight:	normal;
        border-width:	1px 0 0;
    }
    #current_page_view {
        padding: 0;        
        overflow: scroll;
    }
    #document_pages {
        overflow-y: scroll;        
        overflow-x: hidden;        
    }

	#viewer {

        height:     480px;
		margin:		0 auto;
		width:		100%;
		max-width:	900px;
		min-width:	700px;
	}
	.pane {
		display:	none; /* will appear when layout inits */
	}

</style>
{% endblock %}

{% block javascript %}
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery.layout/jquery.layout-latest.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.ui.core.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.ui.accordion.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.ui.mouse.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.ui.resizable.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.ui.draggable.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.effects.core.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}packages/jquery-ui-1.8.10/ui/jquery.effects.slide.js"></script>


    <script type="text/javascript">

        var myLayout, $eastAccordion; // init global vars
        function resizeWidgets () {
            //myLayout.resizeAll();
            $eastAccordion.accordion("resize");
        };

        $(document).ready( function() {

            //$('#viewer').layout({ applyDefaultStyles: true });

            myLayout = $('#viewer').layout({
                west__size:			110
            ,	east__size:			100
                // RESIZE Accordion widget when panes resize
            ,	east__onresize:		function () { $("#metadata_group_accordion").accordion("resize"); }
            });

            // ACCORDION - in the East pane - in a 'content-div'
            $eastAccordion = $("#metadata_group_accordion").accordion({
                fillSpace:	true
            ,	active:		1
            });
        });

	</script>
{% endblock %}

{% block content %}
<div id="viewer">
    {% comment %}
    <div class="ui-layout-north ui-widget-content" style="display: none;">
        <div style="float: right; margin-right: 160px;">
            <button onClick="resizeWidgets()">Resize</button> &nbsp;
            <button onClick="removeUITheme(); resizeWidgets()">Remove Theme</button>
        </div>
        North Pane
    </div>
    {% endcomment %}
    <div class="ui-layout-south ui-widget-content ui-state-error" style="display: none;">{% trans "Page content" %}</div>

    <div class="ui-layout-center" style="display: none;"> 
        <h3 class="ui-widget-header">{% trans "Current page" %}</h3>
        <p id="current_page_view" class="ui-layout-content ui-widget-content">
            <img src="{{ current_page_image_url }}?page={{ page_number }}" />
        </p>
    </div>

    <div class="ui-layout-west" style="display: none;">
        <h3 class="ui-widget-header">{% trans "Pages" %}</h3>
        <p id="document_pages" class="ui-layout-content ui-widget-content">
            <img src="{{ page_preview_image_url }}?page={{ page_number }}" />
        </p>
    </div>

    <div class="ui-layout-east" style="display: none;">
        <h3 class="ui-widget-header">{% trans "Metadata groups" %}</h3>

        <div class="ui-layout-content">
            <div id="metadata_group_accordion" class="basic">

                <h3><a href="#">Section 1</a></h3>
                <div>
                    <p>Mauris mauris ante, blandit et, ultrices a, suscipit eget, quam. 
                        Integer ut neque. Vivamus nisi metus, molestie vel, gravida in, condimentum sit amet, nunc.</p>
                    <p>Nam a nibh. Donec suscipit eros. Nam mi. Proin viverra leo ut odio. Curabitur malesuada. 
                        Vestibulum a velit eu ante scelerisque vulputate.</p>
                </div>

                <h3><a href="#">Section 2</a></h3>
                <div>
                    <h5>Sed Non Urna</h5>
                    <p>Donec et ante. Phasellus eu ligula. Vestibulum sit amet purus.
                        Vivamus hendrerit, dolor at aliquet laoreet, mauris turpis porttitor velit,
                        faucibus interdum tellus libero ac justo.</p>
                    <p>Vivamus non quam. In suscipit faucibus urna.</p>
                </div>

                <h3><a href="#">Section 3</a></h3>
                <div>
                    <p>Nam enim risus, molestie et, porta ac, aliquam ac, risus. Quisque lobortis.
                        Phasellus pellentesque purus in massa. Aenean in pede.</p>
                    <p>Phasellus ac libero ac tellus pellentesque semper. Sed ac felis. Sed commodo, 
                        magna quis lacinia ornare, quam ante aliquam nisi, eu iaculis leo purus venenatis dui.</p>
                    <ul>
                        <li>List item one</li>
                        <li>List item two</li>
                        <li>List item three</li>
                    </ul>
                </div>

                <h3><a href="#">Section 4</a></h3>
                <div>
                    <p>Cras dictum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames 
                        ac turpis egestas.</p>
                    <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;
                        Aenean lacinia mauris vel est.</p>
                    <p>Suspendisse eu nisl. Nullam ut libero. Integer dignissim consequat lectus.
                        Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>
                </div>

            </div>
        </div>
    </div>
</div>
{% endblock %}
